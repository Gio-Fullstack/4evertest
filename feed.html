<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed - 4Ever</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/profile.css">
    <link rel="stylesheet" href="styles/navigation.css">
    
    <style>
        .feed-container {
            max-width: 680px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .feed-header {
            margin-bottom: 2rem;
        }

        .feed-header h1 {
            font-family: var(--font-display);
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .feed-header p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Search Functionality */
        .nav-search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
            margin: 0 2rem;
        }

        .search-input-wrapper {
            position: relative;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 var(--radius-md) var(--radius-md);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
            border-bottom: 1px solid var(--border-color);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background: var(--bg-secondary);
        }

        .search-result-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 0.75rem;
            object-fit: cover;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-name {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .search-result-bio {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        .search-no-results {
            padding: 1rem;
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Story Card */
        .feed-story,
        .story-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 1.25rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .story-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .story-avatar,
        .story-author-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--border-color);
        }

        .story-meta {
            flex: 1;
        }

        .story-author,
        .story-author-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }
        
        .story-author-info {
            flex: 1;
        }

        .story-time,
        .story-date {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .story-category {
            display: inline-block;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-md);
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .story-content {
            margin-bottom: 0;
        }

        .story-title {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.4rem;
            color: var(--text-primary);
        }

        .story-description {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .story-image {
            width: 100%;
            height: 250px;
            border-radius: var(--radius-md);
            object-fit: cover;
            margin-top: 0.5rem;
            margin-bottom: 0;
        }

        .story-actions {
            display: flex;
            gap: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border-light);
        }

        .story-action-btn {
            flex: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            padding: 0.6rem 1rem;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-weight: 500;
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        .story-action-btn:hover {
            background: var(--bg-tertiary);
        }

        .story-action-btn.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .story-action-btn.primary:hover {
            opacity: 0.9;
        }

        /* Loading State */
        .feed-loading {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }

        .feed-empty {
            text-align: center;
            padding: 3rem 1rem;
        }

        .feed-empty i {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .feed-empty h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .feed-empty p {
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <!-- Include Navigation -->
    <nav class="main-navigation">
        <a href="feed.html" class="nav-logo">
            <img src="images/4ever-logo.png" alt="4Ever" class="nav-logo-img">
        </a>

        <div class="nav-search-container">
            <div class="search-input-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="profileSearch" placeholder="Search profiles..." class="search-input">
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>

        <button class="nav-mobile-toggle" id="mobileMenuToggle">
            <i class="fas fa-bars"></i>
        </button>

        <div class="nav-links" id="navLinks">
            <a href="feed.html" class="nav-link active" data-page="feed">
                <i class="fas fa-home"></i>
                <span>Feed</span>
            </a>

            <a href="profile.html" class="nav-link" data-page="profile">
                <i class="fas fa-user"></i>
                <span>My Profile</span>
            </a>

            <a href="profile.html#family-tree" class="nav-link" data-page="family">
                <i class="fas fa-users"></i>
                <span>Family</span>
            </a>

            <a href="notification-center.html" class="nav-link" id="notificationsLink">
                <i class="fas fa-bell"></i>
                <span>Notifications</span>
                <div class="notification-badge" id="notificationCount">5</div>
            </a>
        </div>

        <div class="nav-right">
            <a href="profile.html" class="nav-profile-btn">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=john-smith&backgroundColor=c0aede" alt="Profile" class="nav-avatar">
                <span class="nav-profile-name">John Smith</span>
            </a>

            <button class="nav-settings-btn" id="settingsBtn">
                <i class="fas fa-cog"></i>
            </button>

            <div class="nav-dropdown" id="settingsDropdown">
                <a href="settings.html" class="nav-dropdown-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="privacy.html" class="nav-dropdown-item">
                    <i class="fas fa-lock"></i>
                    <span>Privacy</span>
                </a>
                <a href="help.html" class="nav-dropdown-item">
                    <i class="fas fa-question-circle"></i>
                    <span>Help & Support</span>
                </a>
                <div class="nav-dropdown-divider"></div>
                <a href="#" class="nav-dropdown-item" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Log Out</span>
                </a>
            </div>
        </div>

        <!-- Notifications Dropdown -->
        <div class="notifications-dropdown" id="notificationsDropdown">
            <div class="notifications-header">
                <h3>Notifications</h3>
                <button class="btn-mark-read" id="markAllRead">
                    <i class="fas fa-check-double"></i>
                    Mark all read
                </button>
            </div>
            
            <div class="notifications-list" id="notificationsList">
                <!-- Connection Request -->
                <div class="notification-item unread" data-type="connection">
                    <div class="notification-icon connection-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="notification-content">
                        <p class="notification-text"><strong>David Thompson</strong> sent you a connection request</p>
                        <p class="notification-time">2 hours ago</p>
                        <div class="notification-actions">
                            <button class="btn-accept">Accept</button>
                            <button class="btn-decline">Decline</button>
                        </div>
                    </div>
                </div>

                <!-- New Story About You -->
                <div class="notification-item unread" data-type="story">
                    <div class="notification-icon story-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="notification-content">
                        <p class="notification-text"><strong>Sarah Johnson</strong> added a new story about you: "Family Vacation to Yellowstone"</p>
                        <p class="notification-time">5 hours ago</p>
                        <div class="notification-actions">
                            <button class="btn-view">View Story</button>
                        </div>
                    </div>
                </div>

                <!-- Tagged in Story -->
                <div class="notification-item unread" data-type="tagged">
                    <div class="notification-icon tagged-icon">
                        <i class="fas fa-tag"></i>
                    </div>
                    <div class="notification-content">
                        <p class="notification-text"><strong>Mary Smith</strong> tagged you in a memory: "Our Trip to Japan"</p>
                        <p class="notification-time">1 day ago</p>
                        <div class="notification-actions">
                            <button class="btn-view">View Memory</button>
                        </div>
                    </div>
                </div>

                <!-- New Question -->
                <div class="notification-item unread" data-type="question">
                    <div class="notification-icon question-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="notification-content">
                        <p class="notification-text"><strong>Michael Smith</strong> asked you a question: "What was it like teaching in the 1980s?"</p>
                        <p class="notification-time">2 days ago</p>
                        <div class="notification-actions">
                            <button class="btn-answer">Answer Question</button>
                        </div>
                    </div>
                </div>

                <!-- Another Story About You -->
                <div class="notification-item" data-type="story">
                    <div class="notification-icon story-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="notification-content">
                        <p class="notification-text"><strong>Robert Smith</strong> shared a story about you: "John's First Day of School"</p>
                        <p class="notification-time">3 days ago</p>
                        <div class="notification-actions">
                            <button class="btn-view">View Story</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="notifications-footer">
                <a href="#" class="btn-view-all" onclick="alert('View all notifications page coming soon!'); return false;">View All Notifications</a>
            </div>
        </div>
    </nav>

    <div class="nav-spacer"></div>

    <!-- Feed Content -->
    <div class="feed-container">
        <div class="feed-header">
            <h1>Your Feed</h1>
            <p>Stories from your friends and family</p>
        </div>

        <!-- Sample Story 1 -->
        <div class="feed-story">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=sarah-johnson&backgroundColor=b6e3f4" alt="Sarah Johnson" class="story-avatar" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">
                <div class="story-meta">
                    <div class="story-author" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">Sarah Johnson</div>
                    <div class="story-time">2 hours ago • <span class="story-category">Family</span></div>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">My Wedding Day</h3>
                <p class="story-description">One of the happiest days of my life. Surrounded by family and friends, I married the love of my life. Dad walked me down the aisle and we both cried tears of joy.</p>
                <img src="https://images.unsplash.com/photo-1519741497674-611481863552?w=600&h=400&fit=crop&auto=format&q=80" alt="Wedding" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Sample Story 2 -->
        <div class="feed-story">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=mary-smith&backgroundColor=ffd5dc" alt="Mary Smith" class="story-avatar" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">
                <div class="story-meta">
                    <div class="story-author" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">Mary Smith</div>
                    <div class="story-time">5 hours ago • <span class="story-category">Travel</span></div>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Trip to Japan</h3>
                <p class="story-description">John and I celebrated our retirement with a dream trip to Japan. The cherry blossoms were in full bloom, and we explored ancient temples in Kyoto. An unforgettable adventure!</p>
                <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=600&h=400&fit=crop&auto=format&q=80" alt="Japan" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Sample Story 3 -->
        <div class="feed-story">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=michael-smith&backgroundColor=d1d4f9" alt="Michael Smith" class="story-avatar" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">
                <div class="story-meta">
                    <div class="story-author" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">Michael Smith</div>
                    <div class="story-time">1 day ago • <span class="story-category">Career</span></div>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Opening My Restaurant</h3>
                <p class="story-description">After years of culinary school and working in kitchens, I finally opened my own restaurant in Austin. It was a dream come true, and having my parents there on opening night made it perfect.</p>
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
            </div>
        </div>

        <!-- Story 4: Sarah's Teaching Journey -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=sarah-johnson&backgroundColor=b6e3f4" alt="Sarah Johnson" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">Sarah Johnson</h4>
                    <p class="story-date">2 days ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">My First Day Teaching</h3>
                <p class="story-description">Following in Dad's footsteps, I became a teacher. Walking into my first classroom as a teacher, not a student, was surreal and exciting. I'll never forget how nervous I was, but the kids' faces made it all worth it.</p>
                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&h=400&fit=crop&auto=format&q=80" alt="Teaching" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 5: Michael's College Graduation -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=michael-smith&backgroundColor=d1d4f9" alt="Michael Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">Michael Smith</h4>
                    <p class="story-date">3 days ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">College Graduation Day</h3>
                <p class="story-description">After four years of studying engineering, I finally graduated! Having my whole family there to celebrate made it even more special. Dad was so proud, and Mom couldn't stop taking pictures. Time to start my career!</p>
                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&h=400&fit=crop&auto=format&q=80" alt="Graduation" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 6: Emily's Art Exhibition -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=emily-smith&backgroundColor=ffdfbf" alt="Emily Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=emily-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=emily-smith'" style="cursor: pointer;">Emily Smith</h4>
                    <p class="story-date">4 days ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">My First Art Exhibition</h3>
                <p class="story-description">After months of painting and preparation, my artwork was finally displayed in a local gallery. Seeing my family's proud faces as they walked through the exhibition was the best feeling in the world. Art has always been my passion.</p>
                <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=600&h=400&fit=crop&auto=format&q=80" alt="Art Exhibition" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 7: John's Retirement Party -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=john-smith&backgroundColor=c0aede" alt="John Smith" class="story-author-avatar" onclick="window.location.href='profile.html'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile.html'" style="cursor: pointer;">John Smith</h4>
                    <p class="story-date">1 week ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">My Retirement Party</h3>
                <p class="story-description">After 35 years of teaching, my colleagues surprised me with the most amazing retirement party. Former students came from all over to celebrate. It was overwhelming to see the impact I'd made on so many lives. What a career!</p>
                <img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?w=600&h=400&fit=crop&auto=format&q=80" alt="Retirement Party" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 8: Mary's Garden Project -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=mary-smith&backgroundColor=ffd5dc" alt="Mary Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">Mary Smith</h4>
                    <p class="story-date">1 week ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Building My Dream Garden</h3>
                <p class="story-description">This spring, I finally started the vegetable garden I've always wanted. John helped me build the raised beds, and now we're growing tomatoes, peppers, and herbs. There's something magical about growing your own food.</p>
                <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=600&h=400&fit=crop&auto=format&q=80" alt="Garden" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 9: Family Reunion -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=john-smith&backgroundColor=c0aede" alt="John Smith" class="story-author-avatar" onclick="window.location.href='profile.html'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile.html'" style="cursor: pointer;">John Smith</h4>
                    <p class="story-date">2 weeks ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Annual Family Reunion</h3>
                <p class="story-description">Every summer, our extended family gathers at the lake house. This year we had over 50 people! The kids played in the water, we grilled burgers, and shared stories around the campfire. These moments are what life is all about.</p>
                <img src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=600&h=400&fit=crop&auto=format&q=80" alt="Family Reunion" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 10: Sarah's Daughter's First Day -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=sarah-johnson&backgroundColor=b6e3f4" alt="Sarah Johnson" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">Sarah Johnson</h4>
                    <p class="story-date">3 weeks ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Lily's First Day of School</h3>
                <p class="story-description">My baby girl started kindergarten today! I was more nervous than she was. She walked into that classroom like she owned the place. I'm so proud of how brave she is. Time flies so fast.</p>
                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&h=400&fit=crop&auto=format&q=80" alt="First Day of School" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 11: Michael's Engagement -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=michael-smith&backgroundColor=d1d4f9" alt="Michael Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=michael-smith'" style="cursor: pointer;">Michael Smith</h4>
                    <p class="story-date">1 month ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">I Proposed!</h3>
                <p class="story-description">I asked Jessica to marry me during our hike to the mountain summit. The sunset was perfect, and she said yes! Called my parents immediately - Mom was crying with joy. Can't wait to start this new chapter.</p>
                <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=600&h=400&fit=crop&auto=format&q=80" alt="Proposal" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 12: Emily's Volunteer Work -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=emily-smith&backgroundColor=ffdfbf" alt="Emily Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=emily-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=emily-smith'" style="cursor: pointer;">Emily Smith</h4>
                    <p class="story-date">1 month ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Teaching Art to Kids</h3>
                <p class="story-description">Started volunteering at the community center teaching art to underprivileged kids. Their creativity and enthusiasm is incredible. One little girl told me she wants to be an artist when she grows up - melted my heart!</p>
                <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=600&h=400&fit=crop&auto=format&q=80" alt="Art Teaching" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 13: John's Fishing Trip -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=john-smith&backgroundColor=c0aede" alt="John Smith" class="story-author-avatar" onclick="window.location.href='profile.html'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile.html'" style="cursor: pointer;">John Smith</h4>
                    <p class="story-date">1 month ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Fishing with My Sons</h3>
                <p class="story-description">Took Michael and my grandson fishing at the lake. Michael caught the biggest fish of the day! It reminded me of fishing trips with my dad. Some traditions never get old.</p>
                <img src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=600&h=400&fit=crop&auto=format&q=80" alt="Fishing" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 14: Mary's Cooking Class -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=mary-smith&backgroundColor=ffd5dc" alt="Mary Smith" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=mary-smith'" style="cursor: pointer;">Mary Smith</h4>
                    <p class="story-date">2 months ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Learning Italian Cooking</h3>
                <p class="story-description">Took a cooking class at the community college to learn authentic Italian recipes. Made the most amazing pasta from scratch! John was my taste tester and loved every dish. Can't wait to cook for the family.</p>
                <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600&h=400&fit=crop&auto=format&q=80" alt="Cooking" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
                <button class="story-action-btn">
                    <i class="fas fa-images"></i>
                    View Media
                </button>
            </div>
        </div>

        <!-- Story 15: Sarah's Book Club -->
        <div class="story-card">
            <div class="story-header">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=sarah-johnson&backgroundColor=b6e3f4" alt="Sarah Johnson" class="story-author-avatar" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">
                <div class="story-author-info">
                    <h4 class="story-author-name" onclick="window.location.href='profile-view.html?id=sarah-johnson'" style="cursor: pointer;">Sarah Johnson</h4>
                    <p class="story-date">2 months ago</p>
                </div>
            </div>
            <div class="story-content">
                <h3 class="story-title">Starting a Book Club</h3>
                <p class="story-description">Started a book club with other teachers at school. We're reading classic literature and having amazing discussions. It's wonderful to share my love of reading with colleagues and friends.</p>
                <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=600&h=400&fit=crop&auto=format&q=80" alt="Book Club" class="story-image">
            </div>
            <div class="story-actions">
                <button class="story-action-btn primary">
                    <i class="fas fa-play"></i>
                    Listen to Story
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Data Script -->
    <script src="js/profile-data.js"></script>
    
    <!-- Navigation Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Profile Search Functionality
            const profileSearch = document.getElementById('profileSearch');
            const searchResults = document.getElementById('searchResults');
            
            // Load profile data for search
            let allProfiles = [];
            
            // Import profile data (assuming it's available globally)
            if (typeof profilesData !== 'undefined') {
                allProfiles = Object.values(profilesData);
            }
            
            // Search function
            function searchProfiles(query) {
                if (!query || query.length < 2) {
                    searchResults.classList.remove('active');
                    return;
                }
                
                const filtered = allProfiles.filter(profile => 
                    profile.name.toLowerCase().includes(query.toLowerCase())
                );
                
                displaySearchResults(filtered);
            }
            
            // Display search results
            function displaySearchResults(profiles) {
                if (profiles.length === 0) {
                    searchResults.innerHTML = '<div class="search-no-results">No profiles found</div>';
                } else {
                    searchResults.innerHTML = profiles.map(profile => `
                        <div class="search-result-item" onclick="navigateToProfile('${profile.id}')">
                            <img src="${profile.avatar}" alt="${profile.name}" class="search-result-avatar">
                            <div class="search-result-info">
                                <div class="search-result-name">${profile.name}</div>
                                <div class="search-result-bio">${profile.bio.substring(0, 80)}${profile.bio.length > 80 ? '...' : ''}</div>
                            </div>
                        </div>
                    `).join('');
                }
                searchResults.classList.add('active');
            }
            
            // Navigate to profile
            function navigateToProfile(profileId) {
                if (profileId === 'john-smith') {
                    window.location.href = 'profile.html';
                } else {
                    window.location.href = `profile-view.html?id=${profileId}`;
                }
                searchResults.classList.remove('active');
                profileSearch.value = '';
            }
            
            // Event listeners
            if (profileSearch) {
                profileSearch.addEventListener('input', (e) => {
                    searchProfiles(e.target.value);
                });
                
                profileSearch.addEventListener('focus', () => {
                    if (profileSearch.value.length >= 2) {
                        searchResults.classList.add('active');
                    }
                });
                
                // Hide results when clicking outside
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.nav-search-container')) {
                        searchResults.classList.remove('active');
                    }
                });
            }
            
            // Mobile menu toggle
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navLinks = document.getElementById('navLinks');
            
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                    const icon = mobileMenuToggle.querySelector('i');
                    icon.classList.toggle('fa-bars');
                    icon.classList.toggle('fa-times');
                });
            }

            // Settings dropdown toggle
            const settingsBtn = document.getElementById('settingsBtn');
            const settingsDropdown = document.getElementById('settingsDropdown');
            
            if (settingsBtn) {
                settingsBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    settingsDropdown.classList.toggle('active');
                    // Close notifications if open
                    const notificationsDropdown = document.getElementById('notificationsDropdown');
                    if (notificationsDropdown) {
                        notificationsDropdown.classList.remove('active');
                    }
                });
            }

            // Check if notifications were already cleared
            const notificationsCleared = localStorage.getItem('notificationsCleared');
            if (notificationsCleared === 'true') {
                const unreadItems = document.querySelectorAll('.notification-item.unread');
                unreadItems.forEach(item => item.classList.remove('unread'));
                const notificationCount = document.getElementById('notificationCount');
                if (notificationCount) {
                    notificationCount.textContent = '0';
                    notificationCount.style.display = 'none';
                }
            }

            // Function to clear notifications
            function clearNotifications() {
                const unreadItems = document.querySelectorAll('.notification-item.unread');
                unreadItems.forEach(item => item.classList.remove('unread'));
                const notificationCount = document.getElementById('notificationCount');
                if (notificationCount) {
                    notificationCount.textContent = '0';
                    notificationCount.style.display = 'none';
                }
                // Save to localStorage
                localStorage.setItem('notificationsCleared', 'true');
            }

            // Notifications dropdown toggle
            const notificationsBtn = document.getElementById('notificationsBtn');
            const notificationsDropdown = document.getElementById('notificationsDropdown');
            
            if (notificationsBtn && notificationsDropdown) {
                notificationsBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isCurrentlyActive = notificationsDropdown.classList.contains('active');
                    notificationsDropdown.classList.toggle('active');
                    
                    // If opening the dropdown (was not active before), clear notifications
                    if (!isCurrentlyActive) {
                        clearNotifications();
                    }
                    
                    // Close settings if open
                    if (settingsDropdown) {
                        settingsDropdown.classList.remove('active');
                    }
                });
            }

            // Mark all notifications as read
            const markAllRead = document.getElementById('markAllRead');
            if (markAllRead) {
                markAllRead.addEventListener('click', (e) => {
                    e.stopPropagation();
                    clearNotifications();
                });
            }

            // Handle notification action buttons
            document.addEventListener('click', (e) => {
                // Accept connection
                if (e.target.classList.contains('btn-accept') || e.target.closest('.btn-accept')) {
                    const btn = e.target.classList.contains('btn-accept') ? e.target : e.target.closest('.btn-accept');
                    const notificationItem = btn.closest('.notification-item');
                    notificationItem.classList.remove('unread');
                    alert('Connection request accepted!');
                }
                
                // Decline connection
                if (e.target.classList.contains('btn-decline') || e.target.closest('.btn-decline')) {
                    const btn = e.target.classList.contains('btn-decline') ? e.target : e.target.closest('.btn-decline');
                    const notificationItem = btn.closest('.notification-item');
                    notificationItem.remove();
                    alert('Connection request declined');
                }
                
                // View story/memory
                if (e.target.classList.contains('btn-view') || e.target.closest('.btn-view')) {
                    const btn = e.target.classList.contains('btn-view') ? e.target : e.target.closest('.btn-view');
                    const notificationItem = btn.closest('.notification-item');
                    notificationItem.classList.remove('unread');
                    alert('Navigating to story...');
                }
                
                // Answer question
                if (e.target.classList.contains('btn-answer') || e.target.closest('.btn-answer')) {
                    const btn = e.target.classList.contains('btn-answer') ? e.target : e.target.closest('.btn-answer');
                    const notificationItem = btn.closest('.notification-item');
                    notificationItem.classList.remove('unread');
                    alert('Opening question response modal...');
                }
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (settingsDropdown && !settingsDropdown.contains(e.target) && e.target !== settingsBtn) {
                    settingsDropdown.classList.remove('active');
                }
                if (notificationsDropdown && !notificationsDropdown.contains(e.target) && e.target !== notificationsBtn) {
                    notificationsDropdown.classList.remove('active');
                }
            });

            // Logout functionality
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', async (e) => {
                    e.preventDefault();
                    if (confirm('Are you sure you want to log out?')) {
                        window.location.href = 'login.html';
                    }
                });
            }
        });
    </script>
</body>
</html>

